---
import MainLayout from '../layouts/MainLayout.astro';
import { Image } from 'astro:assets';
import teamData from '../data/team.json';
import devIcon from '../assets/dev_icon.svg';
import leadershipBackground from '../assets/leadership-background.svg';
import teamBackground from '../assets/team-background.svg';

const leadership = teamData.filter(member => member.category === 'leadership');
const team = teamData.filter(member => member.category === 'team');
---
<MainLayout>
    <section id="team-banner" class="w-full text-center mt-8" style="background-color: rgb(13, 13, 13);">
        <div class="container mx-auto py-4">
            <p>PASSIONATE ABOUT GREAT CHALLENGES, WE TURN IDEAS INTO PROGRESS AND EFFORT INTO RESULTS.</p>
        </div>
    </section>

    <section 
        id="leadership-intro" 
        class="flex items-center mt-4 md:mx-4 min-h-[300px] md:min-h-[450px]"
        style={`
            background-image: url(${leadershipBackground.src}); 
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat;
        `}
    >
        <div class="container mx-auto px-4">
            <div class="max-w-3xl">
                <h2 class="text-4xl md:text-5xl mb-4 font-bold">"Leadership & Investors</h2>
                <p class="text-sm md:text-base text-gray-300">
                    Our leadership combines experience and strategic
                    <span class="md:hidden"><br></span>
                    vision to guide every key decision. together with
                    <span class="md:hidden"><br></span>
                    committed investors, we drive the growth,
                    <span class="md:hidden"><br></span>
                    innovation and sustainable development of our
                    <span class="md:hidden"><br></span>
                    projects.
                </p>
            </div>
        </div>
    </section>

    <div class="container mx-auto py-16 px-4">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            {leadership.map(member => (
                <div class="team-member-card text-center">
                    <div class="rounded-lg overflow-hidden mb-4 bg-black border border-black">
                        <Image src={devIcon} alt={`Icon for ${member.name}`} class="w-full h-auto" />
                    </div>
                    <h3 class="font-bold">{member.name}</h3>
                    <p class="text-sm text-gray-400">{member.title}</p>
                </div>
            ))}
        </div>
    </div>

    <section 
        id="our-team-intro" 
        class="flex items-center mt-4 md:mx-4 min-h-[300px] md:min-h-[450px]"
        style={`
            background-image: url(${teamBackground.src}); 
            background-size: contain; /* This value was changed */
            background-position: center; 
            background-repeat: no-repeat;
        `}
    >
        <div class="container mx-auto px-4">
            <div class="max-w-2xl">
                <h2 class="text-4xl md:text-5xl mb-4 font-bold">"Our <span class="text-orange-500">Team</span></h2>
                <p class="text-sm md:text-base text-gray-300">
                    We Have Some Of The Best Performers In The Industry.
                    <span class="md:hidden"><br></span>
                    People Who Are Passionate About Solving Complex
                    <span class="md:hidden"><br></span>
                    Challenges And Committed To The Growth Of Your
                    <span class="md:hidden"><br></span>
                    Company.
                </p>
            </div>
        </div>
    </section>

    <div class="container mx-auto py-16 px-4">
        {/* --- Switched back to Flexbox with a responsive gap --- */}
        <div class="flex flex-wrap justify-center gap-4 md:gap-8">
            {team.map(member => (
                // --- Adjusted basis for the responsive gap ---
                <div class="team-member-card text-center basis-[30%] md:basis-[18%]">
                    <div class="rounded-lg overflow-hidden mb-4 bg-black border border-black">
                        <Image src={devIcon} alt={`Icon for ${member.name}`} class="w-full h-auto" />
                    </div>
                    <h3 class="font-bold">{member.name}</h3>
                    <p class="text-sm text-gray-400">{member.title}</p>
                </div>
            ))}
        </div>
    </div>
</MainLayout>
